language: ruby

bundler_args: --without development

before_install:
  - ps aux|grep memcache
  - mkdir tmp/cache

#memcache is allowed to fail because of error while tesitng on Travis - service is running, but ruby can not connect there
matrix:
  allow_failures:
    - env: CACHE_STORE=memcached
    - env: CACHE_STORE=dalli

services:
  - memcached
  - redis-server

rvm:
  - 1.9.3

gemfile:
  - gemfiles/Gemfile-rails.3.1.x
  - gemfiles/Gemfile-rails.3.2.x

env:
  - CACHE_STORE=redis
  - CACHE_STORE=memcached
  - CACHE_STORE=file_store
  - CACHE_STORE=memory_store
  - CACHE_STORE=dalli
